<div class="homepage-bg">
  <main class="enquiry-page">
    <header class="page-header">
      <h1>Get Your Custom Quote</h1>
      <h3>Tell us about your needs</h3>
    </header>

    <section class="enquiry-wrap">
      <div class="enquiry-card">
        <div *ngIf="!submitted">
          <div class="step-top">
            <div class="step-label">Step {{ step }} of {{ maxStep }}</div>
            <div class="progress">
              <div
                class="progress-bar"
                [style.width.%]="(step / maxStep) * 100"
              ></div>
            </div>
          </div>

          <form [formGroup]="form" class="wizard-form">
            <!-- Step 1: Company Information -->
            <div *ngIf="step === 1" class="step">
              <h4>— Company Information —</h4>

              <!-- Company group -->
              <div class="form-grid" formGroupName="company">
                <label>
                  Company Name
                  <input formControlName="companyName" placeholder="ACME Inc." />
                </label>
                <label>
                  Industry
                  <select formControlName="industry">
                    <option value="">Select industry</option>
                    <option>Retail</option>
                    <option>E-commerce</option>
                    <option>Manufacturing</option>
                    <option>Wholesale</option>
                    <option>Other</option>
                  </select>
                </label>
                <label>
                  Website
                  <input formControlName="website" placeholder="https://" />
                </label>
              </div>

              <!-- Contact group -->
              <div class="form-grid" formGroupName="contact">
                <label>
                  Your Name
                  <input formControlName="yourName" placeholder="Jane Doe" />
                </label>
                <label>
                  Email
                  <input
                    formControlName="email"
                    placeholder="you@company.com"
                  />
                </label>
                <label>
                  Phone
                  <input
                    formControlName="phone"
                    placeholder="(123) 456-7890"
                  />
                </label>
              </div>
            </div>

            <!-- Step 2: Services Needed -->
            <div *ngIf="step === 2" class="step" formGroupName="services">
              <h4>— What Services Do You Need? —</h4>

              <div class="checkbox-grid">
                <label><input type="checkbox" formControlName="dtc" /> DTC Fulfillment</label>
                <label><input type="checkbox" formControlName="b2b" /> B2B & Wholesale</label>
                <label><input type="checkbox" formControlName="amazon" /> Amazon FBM</label>
                <label><input type="checkbox" formControlName="returns" /> Returns Processing</label>
                <label><input type="checkbox" formControlName="kitting" /> Custom Kitting</label>
                <label><input type="checkbox" formControlName="freight" /> Shipping & Freight</label>
              </div>

              <div class="form-grid">
                <label>
                  Monthly Order Volume
                  <input formControlName="monthlyVolume" placeholder="e.g. 5,000" />
                </label>
                <label>
                  Average Order Weight (kg)
                  <input formControlName="avgWeight" placeholder="e.g. 0.5" />
                </label>
              </div>
            </div>

            <!-- Step 3: Storage & Inventory -->
            <div *ngIf="step === 3" class="step" formGroupName="storage">
              <h4>— Storage & Inventory —</h4>
              <div class="form-grid">
                <label>
                  Storage Type
                  <select formControlName="storageType">
                    <option value="">Select storage</option>
                    <option>Ambient</option>
                    <option>Climate Controlled</option>
                    <option>Hazmat</option>
                  </select>
                </label>
                <label>
                  SKUs
                  <input formControlName="skus" placeholder="e.g. 120" />
                </label>
                <label>
                  Average SKU Size
                  <input
                    formControlName="avgSkuSize"
                    placeholder="e.g. 10x10x5 cm"
                  />
                </label>
                <label class="toggle-label">
                  Pallet Requirement
                  <input type="checkbox" formControlName="palletRequired" />
                </label>
              </div>
            </div>

            <!-- Step 4: Technology & Integration -->
            <div *ngIf="step === 4" class="step" formGroupName="tech">
              <h4>— Technology & Integration —</h4>
              <div class="form-grid">
                <label>
                  Platform
                  <select formControlName="platform">
                    <option value="">Select platform</option>
                    <option>Shopify</option>
                    <option>WooCommerce</option>
                    <option>Amazon</option>
                    <option>Custom</option>
                  </select>
                </label>
                <label class="toggle-label">
                  API Access
                  <input type="checkbox" formControlName="apiAccess" />
                </label>
                <label>
                  Sync options
                  <input
                    formControlName="syncOptions"
                    placeholder="e.g. orders, inventory"
                  />
                </label>
              </div>
            </div>

            <!-- Step 5: Timeline & Budget -->
            <div *ngIf="step === 5" class="step" formGroupName="timeline">
              <h4>— Timeline & Budget —</h4>
              <div class="form-grid">
                <label>
                  Start Date
                  <input type="date" formControlName="startDate" />
                </label>
                <label>
                  Monthly Budget
                  <input formControlName="monthlyBudget" placeholder="$" />
                </label>
                <label>
                  Urgency
                  <select formControlName="urgency">
                    <option value="low">Low</option>
                    <option value="normal">Normal</option>
                    <option value="high">High</option>
                  </select>
                </label>
              </div>
            </div>

            <div class="actions">
              <button
                type="button"
                class="btn-secondary"
                (click)="previous()"
                [disabled]="step === 1"
              >
                Previous
              </button>
              <button
                *ngIf="step < maxStep"
                type="button"
                class="btn-primary"
                (click)="next()"
              >
                Next
              </button>
              <button
                *ngIf="step === maxStep"
                type="button"
                class="btn-primary"
                (click)="submit()"
              >
                Submit
              </button>
            </div>
          </form>
        </div>

        <!-- Success Screen -->
        <div *ngIf="submitted" class="success">
          <div class="check">✓</div>
          <h2>Thank you! We've received your enquiry.</h2>
          <p>Reference number: <strong>{{ reference }}</strong></p>
          <ol class="expect">
            <li>Custom quote prepared</li>
            <li>Phone call to discuss options</li>
            <li>Personalized proposal sent</li>
          </ol>
          <div class="success-actions">
            <a class="btn-secondary" routerLink=" ">Back to Home</a>
            <button class="btn-primary" (click)="downloadPdf()">
              Download PDF
            </button>
          </div>
        </div>
      </div>
    </section>
  </main>
</div>
